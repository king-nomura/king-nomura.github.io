<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.145.0"><meta name=author content="野村政行"><title>野村政行の「堪忍袋の緒を締めろ！」</title>
<link rel=amphtml type=text/html href=https://diary.a3size.com/amp/><link rel=alternate type=application/rss+xml href=https://diary.a3size.com/index.xml><meta property="og:site_name" content=" 野村政行の「堪忍袋の緒を締めろ！」"><meta property="og:title" content=" 野村政行の「堪忍袋の緒を締めろ！」"><meta property="og:type" content="website"><meta property="og:locale" content="ja_JP"><meta property="og:app_id" content="361503227564013"><meta property="og:url" content="https://diary.a3size.com/"><meta property="og:image" content="https://diary.a3size.com/images/ogp.png"><meta name=twitter:image content="https://diary.a3size.com/images/ogp.png"><meta name=description content="このサイトは、野村政行が日々のよしなしごとを、そこはかとなく書き連ねたサイトです。"><meta property="og:description" content="このサイトは、野村政行が日々のよしなしごとを、そこはかとなく書き連ねたサイトです。"><meta name=twitter:description content="このサイトは、野村政行が日々のよしなしごとを、そこはかとなく書き連ねたサイトです。"><link rel=alternate type=application/rss+xml title=" 野村政行の「堪忍袋の緒を締めろ！」" href=https://diary.a3size.com/index.xml><link rel="shortcut icon" href=https://diary.a3size.com/images/favicon.ico><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css><link rel=stylesheet href=https://diary.a3size.com/css/main.min.css media=all><link rel=me href=https://fedibird.com/@king_nomura><link rel=me href=https://social.a3size.com/@king_nomura></head><body><div class=wrapper><header class=header><nav class=nav><a href=https://diary.a3size.com/ class=nav-logo><img src=https://diary.a3size.com/images/title.svg alt=野村政行の「堪忍袋の緒を締めろ！」></a><ul class=nav-links><li><a href=/tags><i class="fas fa-tags"></i> Tags</a></li><li><a href=/about/><i class="fas fa-info-circle"></i> About</a></li></ul></nav></header><main class=content><div class=list><h2 class=list-title>2014</h2><article class=article><p class=article-date><a href=https://diary.a3size.com/2014/12/01/><i class="fas fa-book"></i> 2014-12-01</a></p><h1 class=article-title>動画にBGMつけたよ</a></h1><div class=article-content><p>ちょっと人に頼まれて、動画にBGMつけた。その動画自体はあまり人前に出ることはないみたいなので、BGMはSoundCloudに置くことにした。</p><iframe width=100% height=450 scrolling=no frameborder=no src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/59166662&amp;color=ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe></div><hr><ul class=article-taxonomy><li><i class="fas fa-tags"></i> <a href=/tags/%E9%9F%B3%E6%A5%BD>音楽</a></li></ul></article><article class=article><p class=article-date><a href=https://diary.a3size.com/2014/11/04/><i class="fas fa-book"></i> 2014-11-04</a></p><h1 class=article-title>近況・とくになし</a></h1><div class=article-content><p>無難に生きております。</p><p>いや、色々あったといえばあったねー。iPhone6について云いたいこととか、宮崎駿全集のこととか、実写版パトレイバーのこととか、「四月は君の嘘」で悶絶とか色々あるけれども。</p><p>そういうことを書くのが日記だと思うんだが。思うだけでまったく書いていないわけで、これはダメだ。ダメなヤツだ。</p><p>とりあえずこの日記のシステムが正常に動いているか確認するための書き込みテスト。</p></div><hr><ul class=article-taxonomy><li><i class="fas fa-tags"></i> <a href=/tags/%E7%94%9F%E6%B4%BB>生活</a></li></ul></article><article class=article><p class=article-date><a href=https://diary.a3size.com/2014/07/22/><i class="fas fa-book"></i> 2014-07-22</a></p><h1 class=article-title>ちょっとだけ続報：iPhoneアプリの話</a></h1><div class=article-content><p>「<a href=http://lab.surface-arch.com/ target=_blank>百名山コンパス</a>」、バージョンアップしましたよ。Ver. 1.1.0ですよ。撮影機能をつけましたよ。</p><p>で、かねてより予告していた通り、ゆ、ゆ、ゆ、有料化！100円になりました。</p><p>今のところ誰も課金してくれていません。このままではビール代はおろか、柿の種も買えません。</p></div><hr><ul class=article-taxonomy><li><i class="fas fa-tags"></i> <a href=/tags/pc>PC</a></li></ul></article><article class=article><p class=article-date><a href=https://diary.a3size.com/2014/07/03/><i class="fas fa-book"></i> 2014-07-03</a></p><h1 class=article-title>貧乏暇なし</a></h1><div class=article-content><p>6月が殺人的な忙しさだったが、今年の前半トータルで考えると、売り上げ的にはちょいと薄い。ほぼ案件の後始末で忙殺されていたから、仕方ないね。</p><p>そして今年の後半戦だが、んまぁとりあえず全然暇になる気配がない。んー。</p></div><hr><ul class=article-taxonomy><li><i class="fas fa-tags"></i> <a href=/tags/%E7%94%9F%E6%B4%BB>生活</a></li></ul></article><article class=article><p class=article-date><a href=https://diary.a3size.com/2014/05/30/><i class="fas fa-book"></i> 2014-05-30</a></p><h1 class=article-title>つまりiPhoneアプリ作ったからDLしてくれという話</a></h1><div class=article-content><p>ちょっと面白い経緯で「<a href=http://lab.surface-arch.com/ target=_blank>百名山コンパス</a>」というiPhoneアプリの制作に関わったのでご紹介。</p><p>位置情報（緯度、経度、標高）とコンパス（iPhoneの向き）から日本の有名な山の位置を判定してカメラの映像に重ねて表示するという、山専用のARアプリになる。登山の用語では山座同定というらしい。</p><p>登山やハイキングで、あっちに○○山があったはずだー、というときに使うと便利。あとは徹夜仕事で疲れたときに、いつもの殺風景なオフィスにARで山の位置を表示させることで更にダウナーな気分になれる。</p><p>普段のお仕事では受託案件が主なのだが、このアプリは「みんなで作らない？」というお誘いを受けて参加した自主案件となっている。従って関係者全員の手弁当による開発である。野村は山に詳しくないのだが、その辺は企画された方にがっつりと監修していただいた。</p><p>今は無料にて配布中。近いうちに有料化する予定なので（手弁当分の補填……）、興味を持たれた方、お情けでダウンロードしてもいいと思ってくださった方、今すぐにお願いします。</p><img src=/files/2014/05/20140530_0.jpg alt=構造の解説 width=590 height=530><p>で、技術的な話を。</p><p>今回のアプリは<a href=http://phonegap.com/ target=_blank>Adobe PhoneGap</a>(<a href=http://cordova.apache.org/ target=_blank>Apache Cordova</a>)を使って開発されている。ご存じない方に簡単に説明すると、アプリの中でWebブラウザ立ち上げてその中にHTMLで書かれたアプリっぽいものを表示してしまえばぱっと見アプリになるんじゃね？という裏技的な手法である。このHTMLをアプリにする手法についての利点や欠点は割愛させてもらうが、今回はパフォーマンスが厳しくないだろうという読みと、リスト表示部分などの開発コスト削減を目的にこの手法を選択した。</p><p>HTMLの部分も大きく2つに別れていて、メインの山がレーダー表示部分がcanvas、その他の画面やポップアップ表示部分が非canvasとなっている。文字を流し込む部分は普通のHTMLが持っている各種処理に任せて、お絵かきしなくちゃいけない部分だけcanvasで描いた。canvasのお絵かきには<a href=http://www.createjs.com/#!/EaselJS target=_blank>EaselJS</a>を使用した。</p><p>ちなみに今回使用しているPhoneGapもEaselJSも、競合を調査したわけではなくたまたま情報が入りやすかった（野村はもともとFlash使いなので）ものからチョイスしただけだ。ただ、EaselJSはともかくPhoneGap(Apache Cordova)の記事は入門の入門みたいな部分ばかりだし記事執筆時点のバージョンも古かったりで、あまりよろしい状況ではないと感じた。今のところはPhoneGapは初心者向けに裾野を広げるつもりも余裕もないのかも知れないが。</p><p>ARを実現するために図のように手前にWebView、奥にカメラプレビューを配置している。カメラプレビュー部分はPhoneGapのPluginを自作した。また、PhoneGapのWebView(CordovaWebView)も透過するようにカスタマイズしている。</p><p>何かスマホならではのことをやろうとするとWebViewの内側に表示しているHTMLでは限界があるので、WebViewを囲っている外枠のほうで実装することになる。PhoneGapではこのWebViewと外枠との連携をPluginという形で補っている。公開されているPluginもそこそこ充実しているのだが、今回の用途のようなニッチなものはやっぱり自作しなければならない。そんなら最初っからHTML使わないで普通に作ったほうが早いじゃーん、という考え方もできるが、そこは開発リソースやスキルとの兼ね合いだ。実装方法の選択肢は多い方がいいと思う。</p><p>今回はiPhoneアプリとしてリリースしたが、中身の大部分はHTMLでできているのでAndroidでもそれなりに動く。Androidに移植するには、カメラプレビューの部分を作り直し、iPhoneに最適化してしまったHTMLを再調整することになる。といった諸々の調整ごとが必要だったとしても、それでも移植が簡単になる部分があるのはとても嬉しいことだ。</p><p>ま、そんな感じのアプリなので。今無料なので。</p></div><hr><ul class=article-taxonomy><li><i class="fas fa-tags"></i> <a href=/tags/pc>PC</a></li></ul></article></div><ul class=page-links><li><a href=/page/7/ aria-label=Previous><span aria-hidden=true><i class="fas fa-angle-left"></i></span></a></li><li><a href=/>1</a></li><li><a href=/page/2/>2</a></li><li><a href=/page/3/>3</a></li><li class=page-links-disabled><span aria-hidden=true>&mldr;</span></li><li><a href=/page/7/>7</a></li><li class=page-links-active><a href=/page/8/>8</a></li><li><a href=/page/9/>9</a></li><li class=page-links-disabled><span aria-hidden=true>&mldr;</span></li><li><a href=/page/155/>155</a></li><li><a href=/page/9/ aria-label=Next><span aria-hidden=true><i class="fas fa-angle-right"></i></span></a></li></ul></main><footer class=footer><ul class=footer-links><li><a href=/index.xml type=application/rss+xml target=_blank><i class="fas fa-rss"></i> RSSフィード</a></li><li><a href=https://social.a3size.com/@king_nomura target=_blank rel=noopener>ActivityPub</a></li><li><a href=https://github.com/king-nomura target=_blank rel=noopener><i class="fab fa-github"></i> GitHub</a></li><li><a href=https://www.facebook.com/nomura.masayuki target=_blank rel=noopener><i class="fab fa-facebook-f"></i> Facebook</a></li></ul><p><small class=footer-copyright>author: nomura masayuki</small></p></footer></div></body></html>