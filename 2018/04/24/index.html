<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.125.6"><meta name=author content><title>flickrはイケているか - 野村政行の「堪忍袋の緒を締めろ！」</title>
<link rel=amphtml type=text/html href=https://diary.a3size.com/amp/2018/04/24/><meta property="og:site_name" content=" 野村政行の「堪忍袋の緒を締めろ！」"><meta property="og:title" content="flickrはイケているか"><meta property="og:type" content="website"><meta property="og:locale" content="ja_JP"><meta property="og:app_id" content="361503227564013"><meta property="og:url" content="https://diary.a3size.com/2018/04/24/"><meta property="og:image" content="https://farm5.staticflickr.com/4790/39833015115_a490e45710_h.jpg"><meta name=twitter:image content="https://farm5.staticflickr.com/4790/39833015115_a490e45710_h.jpg"><meta name=description content="日記のサムネイルにflickrの画像は使えないだろうか。という実験。 肝心の写真がイケていないというオチ、ではなくて。 試しにflickrのEm..."><meta property="og:description" content="日記のサムネイルにflickrの画像は使えないだろうか。という実験。 肝心の写真がイケていないというオチ、ではなくて。 試しにflickrのEm..."><meta name=twitter:description content="日記のサムネイルにflickrの画像は使えないだろうか。という実験。 肝心の写真がイケていないというオチ、ではなくて。 試しにflickrのEm..."><link rel=alternate type=application/rss+xml title=" 野村政行の「堪忍袋の緒を締めろ！」" href=https://diary.a3size.com/index.xml><link rel="shortcut icon" href=https://diary.a3size.com/images/favicon.ico><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css><link rel=stylesheet href=https://diary.a3size.com/css/main.min.css media=all><link rel=me href=https://fedibird.com/@king_nomura><link rel=me href=https://social.a3size.com/@king_nomura></head><body><div class=wrapper><header class=header><nav class=nav><a href=https://diary.a3size.com/ class=nav-logo><img src=https://diary.a3size.com/images/title.svg alt=野村政行の「堪忍袋の緒を締めろ！」></a><ul class=nav-links><li><a href=/tags><i class="fas fa-tags"></i> Tags</a></li><li><a href=/about/><i class="fas fa-info-circle"></i> About</a></li></ul></nav></header><main class=content role=main><article class=article><span class=article-date><i class="fas fa-book"></i> 2018-04-24</span><h1 class=article-title>flickrはイケているか</h1><div class=article-content><a data-flickr-embed=true href=https://www.flickr.com/photos/king_nomura/39833015115/in/dateposted-public/ title=img395><img src=https://farm5.staticflickr.com/4790/39833015115_9f394d855e_k.jpg alt=このボタンを押してください width=2048 height=1375></a><script async src=//embedr.flickr.com/assets/client-code.js></script><p>日記のサムネイルにflickrの画像は使えないだろうか。という実験。</p><p>肝心の写真がイケていないというオチ、ではなくて。</p><p>試しにflickrのEmbedスクリプトを出力して埋め込んでみたのだが。読み込み時の画面幅に合わせてスタイルをゴニョゴニョしちゃうタイプのスクリプトになっているので、表示後の画面幅変更に対応できていない。この微妙にレスポンシブじゃない考え方はどこかではメジャーなのかな、海外のテンプレで他にもみた気がする。……良くない。</p><p>というか、flickrはきっと思想的には埋め込まれる前提じゃないんだな。狙ってやっているなら潔いようにも思うが、なんとなくだが単に周回遅れ（それも2周くらい）な気がする。この間も買収云々があったりと、flickrはちっとも「イケてる」感じのするサービスではなくなった。とはいえInstagramだって親会社はFacebookになってしまったし、APIの締め付けがキツいしで、操作性云々とは違うところで微妙。</p><p>写真共有サービスなんて、儲からないからこんな感じなのかな。使えているうちはいいけれども、どんなサービスであっても、10年後も今とおんなじサービス形態で生き残ってくれる保証はないという201x年。未来はまだか。</p><h2 id=hugoのshortcodesをちまちま増やす>Hugoのshortcodesをちまちま増やす</h2><p>今日もHugoの話をちょっとメモしておくと、上記のflickrもそうだが、shortcodeをいくつか自作している。といっても、PCで埋め込みたいタグを書いたものと、AMP対応のためにそのタグを書き直したもの、という簡単な出し分けをしているだけであるが。</p><p>現時点では</p><ul><li>flickr</li><li>amazon</li><li>img</li><li>iframe</li></ul><p>の4つができた。
たとえば <code>&lt;img></code> タグをそのまま書くのではなく、</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span> <span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;***&#34;</span> <span class=na>width</span><span class=o>=</span><span class=s>&#34;160&#34;</span> <span class=na>height</span><span class=o>=</span><span class=s>&#34;120&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;テスト&#34;</span> <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>↓
</span></span><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;***&#34;</span> <span class=na>width</span><span class=o>=</span><span class=s>&#34;160&#34;</span> <span class=na>height</span><span class=o>=</span><span class=s>&#34;120&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;テスト&#34;</span> <span class=p>&gt;</span>}}
</span></span></code></pre></div><p>としておく。</p><p>これをPCでは、</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>&lt;img
</span></span><span class=line><span class=cl>src=&#34;{{ .Get &#34;src&#34; }}&#34;
</span></span><span class=line><span class=cl>alt=&#34;{{ .Get &#34;alt&#34; }}&#34;
</span></span><span class=line><span class=cl>{{ with (.Get &#34;width&#34;) }} width=&#34;{{ . }}&#34;{{ end }}
</span></span><span class=line><span class=cl>{{ with (.Get &#34;height&#34;) }} height=&#34;{{ . }}&#34;{{ end }}
</span></span><span class=line><span class=cl>/&gt;
</span></span></code></pre></div><p>AMPでは、</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>&lt;p&gt;
</span></span><span class=line><span class=cl>&lt;amp-img
</span></span><span class=line><span class=cl>src=&#34;{{ .Get &#34;src&#34; }}&#34;
</span></span><span class=line><span class=cl>alt=&#34;{{ .Get &#34;alt&#34; }}&#34;
</span></span><span class=line><span class=cl>{{ with (.Get &#34;width&#34;) }} width=&#34;{{ . }}&#34;{{ end }}
</span></span><span class=line><span class=cl>{{ with (.Get &#34;height&#34;) }} height=&#34;{{ . }}&#34;{{ end }}
</span></span><span class=line><span class=cl>layout=&#34;responsive&#34;&gt;&lt;/amp-img&gt;
</span></span><span class=line><span class=cl>&lt;/p&gt;
</span></span></code></pre></div><p>てな感じに。至極簡単な置きかえを行うことで、なんとなくAMP対応ができる。</p><p>車輪を再発明している感は否めない。</p></div><hr><ul class=article-taxonomy><li><i class="fas fa-tags"></i> <a href=/tags/%E5%86%99%E7%9C%9F>写真</a><a href=/tags/%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%8D%E3%83%83%E3%83%88>インターネット</a><a href=/tags/pc>PC</a></li></ul></article></main><ul class=page-links><li><a href=https://diary.a3size.com/2018/04/22/ aria-label=Previous><span aria-hidden=true><i class="fas fa-angle-left"></i> 前へ</span></a></li><li><a href=https://diary.a3size.com/2018/05/12/ aria-label=Next><span aria-hidden=true>次へ <i class="fas fa-angle-right"></i></span></a></li></ul><footer class=footer><ul class=footer-links><li><a href=https://social.a3size.com/@king_nomura target=_blank rel=noopener>ActivityPub</a></li><li><a href target=_blank rel=noopener>rss</a></li><li><a href=https://github.com/king-nomura target=_blank rel=noopener><i class="fab fa-github"></i> GitHub</a></li><li><a href=https://www.facebook.com/nomura.masayuki target=_blank rel=noopener><i class="fab fa-facebook-f"></i> Facebook</a></li></ul><p><small class=footer-copyright>author: nomura masayuki</small></p></footer></div></body></html>