<!doctype html><html ⚡><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.146.7"><meta name=author content="野村政行"><title>野村政行の「堪忍袋の緒を締めろ！」 - 野村政行の「堪忍袋の緒を締めろ！」</title>
<link rel=canonical type=text/html href=https://diary.a3size.com/><link rel=alternate type=application/rss+xml href=https://diary.a3size.com/index.xml><meta property="og:site_name" content=" 野村政行の「堪忍袋の緒を締めろ！」"><meta property="og:title" content=" 野村政行の「堪忍袋の緒を締めろ！」"><meta property="og:type" content="website"><meta property="og:locale" content="ja_JP"><meta property="og:app_id" content="361503227564013"><meta property="og:url" content="https://diary.a3size.com/amp/"><meta property="og:image" content="https://diary.a3size.com/images/ogp.png"><meta name=twitter:image content="https://diary.a3size.com/images/ogp.png"><meta name=description content="このサイトは、野村政行が日々のよしなしごとを、そこはかとなく書き連ねたサイトです。"><meta property="og:description" content="このサイトは、野村政行が日々のよしなしごとを、そこはかとなく書き連ねたサイトです。"><meta name=twitter:description content="このサイトは、野村政行が日々のよしなしごとを、そこはかとなく書き連ねたサイトです。"><link rel=alternate type=application/rss+xml title=" 野村政行の「堪忍袋の緒を締めろ！」" href=https://diary.a3size.com/index.xml><link rel="shortcut icon" href=https://diary.a3size.com/images/favicon.ico><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><script async src=https://cdn.ampproject.org/v0.js></script><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><style amp-custom>.chroma{color:#d0d0d0;background-color:#202020}.chroma .err{color:#a61717;background-color:#e3d2d2}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em}.chroma .ln{margin-right:.4em;padding:0 .4em}.chroma .k{color:#6ab825;font-weight:700}.chroma .kc{color:#6ab825;font-weight:700}.chroma .kd{color:#6ab825;font-weight:700}.chroma .kn{color:#6ab825;font-weight:700}.chroma .kp{color:#6ab825}.chroma .kr{color:#6ab825;font-weight:700}.chroma .kt{color:#6ab825;font-weight:700}.chroma .na{color:#bbb}.chroma .nb{color:#24909d}.chroma .nc{color:#447fcf}.chroma .no{color:#40ffff}.chroma .nd{color:orange}.chroma .ne{color:#bbb}.chroma .nf{color:#447fcf}.chroma .nn{color:#447fcf}.chroma .nt{color:#6ab825;font-weight:700}.chroma .nv{color:#40ffff}.chroma .s{color:#ed9d13}.chroma .sa{color:#ed9d13}.chroma .sb{color:#ed9d13}.chroma .sc{color:#ed9d13}.chroma .dl{color:#ed9d13}.chroma .sd{color:#ed9d13}.chroma .s2{color:#ed9d13}.chroma .se{color:#ed9d13}.chroma .sh{color:#ed9d13}.chroma .si{color:#ed9d13}.chroma .sx{color:orange}.chroma .sr{color:#ed9d13}.chroma .s1{color:#ed9d13}.chroma .ss{color:#ed9d13}.chroma .m{color:#3677a9}.chroma .mb{color:#3677a9}.chroma .mf{color:#3677a9}.chroma .mh{color:#3677a9}.chroma .mi{color:#3677a9}.chroma .il{color:#3677a9}.chroma .mo{color:#3677a9}.chroma .ow{color:#6ab825;font-weight:700}.chroma .c{color:#999;font-style:italic}.chroma .ch{color:#999;font-style:italic}.chroma .cm{color:#999;font-style:italic}.chroma .c1{color:#999;font-style:italic}.chroma .cs{color:#e50808;background-color:#520000;font-weight:700}.chroma .cp{color:#cd2828;font-weight:700}.chroma .cpf{color:#cd2828;font-weight:700}.chroma .gd{color:#d22323}.chroma .ge{font-style:italic}.chroma .gr{color:#d22323}.chroma .gh{color:#fff;font-weight:700}.chroma .gi{color:#589819}.chroma .go{color:#ccc}.chroma .gp{color:#aaa}.chroma .gs{font-weight:700}.chroma .gu{color:#fff}.chroma .gt{color:#d22323}.chroma .w{color:#666}.page-links{margin:30px 0;padding:0;text-align:center}.page-links li{display:inline-block}</style></head><body><main class=content><div class=list><h2 class=list-title>2018</h2><article class=article><h1 class=article-title><a href=https://diary.a3size.com/amp/2018/04/24/>2018-04-24</a> flickrはイケているか</a></h1><div class=article-content><p><a href=https://www.flickr.com/photos/king_nomura/39833015115/in/dateposted-public/ title=img395 target=_blank rel=noopener><amp-img src=https://farm5.staticflickr.com/4790/39833015115_9f394d855e_k.jpg alt=このボタンを押してください width=2048 height=1375 layout=responsive></amp-img></a></p><p>日記のサムネイルにflickrの画像は使えないだろうか。という実験。</p><p>肝心の写真がイケていないというオチ、ではなくて。</p><p>試しにflickrのEmbedスクリプトを出力して埋め込んでみたのだが。読み込み時の画面幅に合わせてスタイルをゴニョゴニョしちゃうタイプのスクリプトになっているので、表示後の画面幅変更に対応できていない。この微妙にレスポンシブじゃない考え方はどこかではメジャーなのかな、海外のテンプレで他にもみた気がする。……良くない。</p><p>というか、flickrはきっと思想的には埋め込まれる前提じゃないんだな。狙ってやっているなら潔いようにも思うが、なんとなくだが単に周回遅れ（それも2周くらい）な気がする。この間も買収云々があったりと、flickrはちっとも「イケてる」感じのするサービスではなくなった。とはいえInstagramだって親会社はFacebookになってしまったし、APIの締め付けがキツいしで、操作性云々とは違うところで微妙。</p><p>写真共有サービスなんて、儲からないからこんな感じなのかな。使えているうちはいいけれども、どんなサービスであっても、10年後も今とおんなじサービス形態で生き残ってくれる保証はないという201x年。未来はまだか。</p><h2 id=hugoのshortcodesをちまちま増やす>Hugoのshortcodesをちまちま増やす</h2><p>今日もHugoの話をちょっとメモしておくと、上記のflickrもそうだが、shortcodeをいくつか自作している。といっても、PCで埋め込みたいタグを書いたものと、AMP対応のためにそのタグを書き直したもの、という簡単な出し分けをしているだけであるが。</p><p>現時点では</p><ul><li>flickr</li><li>amazon</li><li>img</li><li>iframe</li></ul><p>の4つができた。
たとえば <code>&lt;img></code> タグをそのまま書くのではなく、</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span> <span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;***&#34;</span> <span class=na>width</span><span class=o>=</span><span class=s>&#34;160&#34;</span> <span class=na>height</span><span class=o>=</span><span class=s>&#34;120&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;テスト&#34;</span> <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>↓
</span></span><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;***&#34;</span> <span class=na>width</span><span class=o>=</span><span class=s>&#34;160&#34;</span> <span class=na>height</span><span class=o>=</span><span class=s>&#34;120&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;テスト&#34;</span> <span class=p>&gt;</span>}}
</span></span></code></pre></div><p>としておく。</p><p>これをPCでは、</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>&lt;img
</span></span><span class=line><span class=cl>src=&#34;{{ .Get &#34;src&#34; }}&#34;
</span></span><span class=line><span class=cl>alt=&#34;{{ .Get &#34;alt&#34; }}&#34;
</span></span><span class=line><span class=cl>{{ with (.Get &#34;width&#34;) }} width=&#34;{{ . }}&#34;{{ end }}
</span></span><span class=line><span class=cl>{{ with (.Get &#34;height&#34;) }} height=&#34;{{ . }}&#34;{{ end }}
</span></span><span class=line><span class=cl>/&gt;
</span></span></code></pre></div><p>AMPでは、</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>&lt;p&gt;
</span></span><span class=line><span class=cl>&lt;amp-img
</span></span><span class=line><span class=cl>src=&#34;{{ .Get &#34;src&#34; }}&#34;
</span></span><span class=line><span class=cl>alt=&#34;{{ .Get &#34;alt&#34; }}&#34;
</span></span><span class=line><span class=cl>{{ with (.Get &#34;width&#34;) }} width=&#34;{{ . }}&#34;{{ end }}
</span></span><span class=line><span class=cl>{{ with (.Get &#34;height&#34;) }} height=&#34;{{ . }}&#34;{{ end }}
</span></span><span class=line><span class=cl>layout=&#34;responsive&#34;&gt;&lt;/amp-img&gt;
</span></span><span class=line><span class=cl>&lt;/p&gt;
</span></span></code></pre></div><p>てな感じに。至極簡単な置きかえを行うことで、なんとなくAMP対応ができる。</p><p>車輪を再発明している感は否めない。</p></div><p>tags:
<a href=/tags/%E5%86%99%E7%9C%9F>写真</a> <a href=/tags/%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%8D%E3%83%83%E3%83%88>インターネット</a> <a href=/tags/pc>PC</a></p></article><hr><article class=article><h1 class=article-title><a href=https://diary.a3size.com/amp/2018/04/22/>2018-04-22</a> Hugoで日記を書くための自動化</a></h1><div class=article-content><p><a href=/2018/04/21/>先日の日記</a>に書いたように、BitBucketに日記をPUSHするとゴニョゴニョしてGitHub Pagesで公開されるという仕組みが完成した。</p><p>日記を一日分追加すると、その日の日記ページのHTMLができる。のみならず、トップページに直近5日分の日記が載っているのでそこも再生成。すると日記が一日分後ろに押し出されて、ページネーション（次のページ）があるのでその後ろのページ全部が再生成させる。また日記につけたタグから、そのタグのリストページも再生成される。結果、数百のファイルが再生成される。うわーお、無駄が多い。でもなぁ、日記を一日分ずつ読み込むのもちょっと馬鹿馬鹿しい。まあそれはともかく、自動的にhtmlは作れるようになった。</p><p>では次は日記を新規作成するところだ。コマンドラインから <code>Hugo new ファイル名</code> でページのひな形が書き込まれたMarkdownファイルが完成する。これは楽チン……、と思いたいところだがもっと楽にしたい。</p><p>Automatorを使って、例えば以下のような感じのシェルスクリプトをアプリ化（というかアイコン化）して、ボタン一発で今日の日記を作ってエディタを開く。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> <span class=s1>&#39;Hugoの作業ディレクトリ&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># この例では年別にファイルを格納したいので、post/YYYYディレクトリを作成している</span>
</span></span><span class=line><span class=cl><span class=nv>targetYear</span><span class=o>=</span><span class=sb>`</span>date +<span class=s2>&#34;%Y&#34;</span><span class=sb>`</span>
</span></span><span class=line><span class=cl>mkdir -p <span class=nv>$targetYear</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 日付からファイル名を生成する。この例では post/YYYY/YYYY-MM-DD.mfd</span>
</span></span><span class=line><span class=cl><span class=nv>targetDate</span><span class=o>=</span><span class=sb>`</span>date +<span class=s2>&#34;%Y-%m-%d&#34;</span><span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=nv>targetFile</span><span class=o>=</span><span class=s2>&#34;post/</span><span class=nv>$targetYear</span><span class=s2>/</span><span class=nv>$targetDate</span><span class=s2>.md&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 当該ファイルがなければ新規作成</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> ! -e <span class=s2>&#34;content/</span><span class=nv>$targetFile</span><span class=s2>&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  /usr/local/bin/hugo new <span class=nv>$targetFile</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># この例ではアプリを指定せずにファイルを開く</span>
</span></span><span class=line><span class=cl>open <span class=s2>&#34;content/</span><span class=nv>$targetFile</span><span class=s2>&#34;</span>
</span></span></code></pre></div><p>これで、日記を書くところまでアイコンクリック一回でだけで進められる。</p><p>本当は、日記を書き終えたあともcommitとpushをアイコンクリック一回でやりたいが、エラー処理とか連打時の動作とか考えるとちょっと面倒そうなので、いったんここまでとして、今日記を書いているこのファイルをこのあと手動でcommitしてpushすることにする。</p><p>……コミット時のメッセージが日本語だとうまく動かない？</p></div><p>tags:
<a href=/tags/a3size>a3size</a> <a href=/tags/pc>PC</a></p></article><hr><article class=article><h1 class=article-title><a href=https://diary.a3size.com/amp/2018/04/21/>2018-04-21</a> GitHub Pagesにお引っ越し</a></h1><div class=article-content><p>WordPressでこの日記をリニューアルすると<a href=/2017/08/30/>以前書いた</a>が、色々と考えてみた結果<a href=https://pages.github.com/>GitHub Pages</a>に引っ越した。</p><p>というのも、CPUパワーがどうのとか考えてみるに、この日記に動的な部分なんぞほとんどないので静的HTMLジェネレータで十分じゃないかと思い至り。</p><p>しかもどんなツールで日記を書くとしても、今どきはMarkdown方式で書きたいわけで。Markdownが使えて、静的なHTMLが書き出せるものということで、<a href=https://gohugo.io/>Hugo</a>を選択した。</p><p>現在、この日記のソースコードがある<a href=https://bitbucket.org/>BitBucket</a>から、自動生成されたものだけをGitHubにpushする。という実験中。</p><p>うまくいったら、もう少し細かく手順をまとめるかも知れないし、まあググれば分かるかもしれないから書かないかも知れないし。</p><p>引っ越した理由のもう一つはサイトのSSL化を実現するため。前のサイトでもできたのだが、GitHub PagesはSSLの発行も自動化されているという至れり尽くせり。<a href=https://letsencrypt.org/>Let&rsquo;s Encrypt</a>は素晴らしい。寄附しちゃった。</p></div><p>tags:
<a href=/tags/a3size>a3size</a> <a href=/tags/%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%8D%E3%83%83%E3%83%88>インターネット</a></p></article><hr><article class=article><h1 class=article-title><a href=https://diary.a3size.com/amp/2018/02/13/>2018-02-13</a> Macの音声入力で日記を書くテスト</a></h1><div class=article-content><p>流行に乗っかって、この文章マックの音声入力で書いてみている。新しい行新しい行</p><p>この文章ハ3回目。久々に変なシャベリカタをしていてキモチ悪い。人間サマが、マックに合わせて、喋り方を変えてやっている。なんて親切だ。</p><p>音声入力でプログラムを書くには、それなりの設定とそれなりの訓練が必要そう。ダイタイにして、日本語と英語をごちゃまぜにしゃべっているのはよくない。いふへ留守番。ほらね、まくいかない。</p><p>あと、自分の妄想お口に出してイルのが、かなり恥ずかしい。うまく変換されないので、さらに文章が恥ずかしい。</p><p>シャベルのが疲れてきた。うん、照れるったほうが早いような気がする。そんなに発音悪いのかなあ。それともマイクが遠いのかな。それともしゃべる速度がマックに会っていないのかな。マックがカタカナになるの気持ち悪い。マクドと区別がつかない。</p><p>文章を書きながら、書き直したいなと何度も思うのに、音声入力を止めたくないからどんどんおかしな文章が出来上がっていく。Backspaceがほしい。あるのかな。なんでバックスペースちゃんと英語になるのはてな?新しい行</p><p>酸素が足りない。喋るの飽きた。おしまい。おしマイケル。</p></div><p>tags:
<a href=/tags/pc>PC</a></p></article><hr><article class=article><h1 class=article-title><a href=https://diary.a3size.com/amp/2018/02/09/>2018-02-09</a> Intel ME FWを自己責任でアップデートした</a></h1><div class=article-content><p>もう二か月以上も前の話題なのだが、<a href=https://www.intel.co.jp/content/www/jp/ja/support/articles/000025619/software.html56>インテル® マネジメント・エンジンの重要なファームウェア・アップデート (Intel-SA-00086)</a>という事案があって。今ググったら、初報は去年の11月だった、えらい前の話で恐縮でございます。要するに、IntelのCPUにセキュリティ上の問題がみつかったのでマザーボードの会社のサイトから配布されるIntel ME(Management Engine)のFW(ファームウェア)アップデートをやってくれ、ということだった。</p><p>というわけで、使用しているMSI社のH170 GAMING M3について、BIOSのアップデートがあるものだと思ってぼぉーっと二か月も待っていたのだが、新しい世代のマザーボードについてはアナウンスがあったがH170チップセット系のマザーボードについては一向に該当のアップデートが来る気配がない。もはやH170なんて過去のものだ、そんなものに貴重な開発リソースを割くことはできない、と。世間の風は冷たい。</p><p>メーカーがやってくれないなら、自己責任で対策すればいいじゃない。</p><p>というわけで、自己責任でIntel ME FWを広大なネットの海のどこからか拾ってきて適用した。参考にさせていただいたのは、こちらです。(<a href=http://www.nozoana.work/article/455978527.html>i7 8700KのIntel ME FWを、MSI Z370 Tomahawkからアップデートしてみた～Intel H170/H270/Z170/Z270/Z370シリーズのIntel MEファームウェアを更新する方法～: ログヲーク ～仮想通貨や日々思ったことの日記～</a>)。</p><p>自作PCブームの初期の頃は、ハードウェアのパッケージに付属しているドライバ類はバージョンが古いので、最新のドライバをネットで探してくるのは当たり前の作業だった。その際に、販売元(海外メーカーの日本代理店)のWebサイトは情報が古かったりメンテナンスされていないことが多かったので、製造元や場合によっては使用されているチップのメーカーのサイトからダウンロードしてきたりした。更には同じメーカーの別のチップのドライバを設定ファイルをちょっといじって強引に突っ込んだりした。ただし、結構な確率でOSが立ち上がらなくなる。それでも、壊れてもいいからやってみようと思えば、案外いろんなことができる。</p><p>そんな感じで、要はIntel ME FWをどこから見つけてくるか、なのだが、上記の記事を参考にして、<a href="http://www.station-drivers.com/index.php?option=com_remository&amp;Itemid=352&amp;func=startdown&amp;id=3303&amp;lang=en">Intel Management Engine (ME / AMT) Firmware Version 11.8.50.3434 (S & H) (5MB)</a>を適用することにした。このstation-drivers.comが安全なサイトかどうか確信は持てない、というあたりが自己責任な部分で、今回のケースではあとは「最新のマザーボードに買い直す」くらいしか選択肢がないからまあいいかな、と。</p><p>無事ファームウェアをアップデートして、Intelのサイトにある「intel-sa-00086 検出ツール」で対策完了を確認。終わり。</p></div><p>tags:
<a href=/tags/pc>PC</a></p></article><hr></div><ul class=page-links><li><a href=/amp/page/3/ aria-label=Previous><span aria-hidden=true>Prev.</span></a></li><li><a href=/amp/>1</a></li><li><a href=/amp/page/2/>2</a></li><li><a href=/amp/page/3/>3</a></li><li class=page-links-active><a href=/amp/page/4/>4</a></li><li><a href=/amp/page/5/>5</a></li><li class=page-links-disabled><span aria-hidden=true>&mldr;</span></li><li><a href=/amp/page/155/>155</a></li><li><a href=/amp/page/5/ aria-label=Next><span aria-hidden=true>Next</span></a></li></ul></main><footer class=footer><p><small class=footer-copyright>author: nomura masayuki</small></p></footer></body></html>