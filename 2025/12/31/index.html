<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.153.5"><meta name=author content="野村政行"><title>ActivityPubへの投稿を静的HTMLにも保存しておく - 野村政行の「堪忍袋の緒を締めろ！」</title><link rel=amphtml type=text/html href=https://diary.a3size.com/amp/2025/12/31/><meta property="og:site_name" content=" 野村政行の「堪忍袋の緒を締めろ！」"><meta property="og:title" content="ActivityPubへの投稿を静的HTMLにも保存しておく"><meta property="og:type" content="website"><meta property="og:locale" content="ja_JP"><meta property="og:app_id" content="361503227564013"><meta property="og:url" content="https://diary.a3size.com/2025/12/31/"><meta property="og:image" content="https://diary.a3size.com/images/ogp.png"><meta name=twitter:image content="https://diary.a3size.com/images/ogp.png"><meta name=description content="巨大な企業SNSからActivityPubに移住して早3年が過ぎた。完全に移住したわけではなく、世間一般の情報を得るためには巨大な企業SNSの検索機能を使わせてもらっているし、ググればそちらのSNSの投稿はヒットするので、そういう活用の仕方はさせてもらっている。自分の投稿をそちらにアップしなくなっただけだ。 で、ActivityPubのほうにはそれなりに投稿しているのだが、この投稿はGoogleなどの検索エンジンからはクロールできない。ActivityPubのフロントエンドにSoapboxというものを使っているのだが、これはsingle-page application (SPA)、つまりjavaScriptがその都度ActivityPub APIから情報を取得して画面に表示しているため、検索エンジンのBotがクロールしようと思ってもこの機能が動作しないため投稿の中身がクロールできない。 どうしようもないゴミ発言を拾われないのはいいことではあるが、流石に寂しい。 どうしようもないゴミ発言も自分で責任をもって管理したい。そのために自分のドメインで公開しているのだから、検索エンジンくんが欲しいというなら、まあ、提供してもいい。
..."><meta property="og:description" content="巨大な企業SNSからActivityPubに移住して早3年が過ぎた。完全に移住したわけではなく、世間一般の情報を得るためには巨大な企業SNSの検索機能を使わせてもらっているし、ググればそちらのSNSの投稿はヒットするので、そういう活用の仕方はさせてもらっている。自分の投稿をそちらにアップしなくなっただけだ。 で、ActivityPubのほうにはそれなりに投稿しているのだが、この投稿はGoogleなどの検索エンジンからはクロールできない。ActivityPubのフロントエンドにSoapboxというものを使っているのだが、これはsingle-page application (SPA)、つまりjavaScriptがその都度ActivityPub APIから情報を取得して画面に表示しているため、検索エンジンのBotがクロールしようと思ってもこの機能が動作しないため投稿の中身がクロールできない。 どうしようもないゴミ発言を拾われないのはいいことではあるが、流石に寂しい。 どうしようもないゴミ発言も自分で責任をもって管理したい。そのために自分のドメインで公開しているのだから、検索エンジンくんが欲しいというなら、まあ、提供してもいい。
..."><meta name=twitter:description content="巨大な企業SNSからActivityPubに移住して早3年が過ぎた。完全に移住したわけではなく、世間一般の情報を得るためには巨大な企業SNSの検索機能を使わせてもらっているし、ググればそちらのSNSの投稿はヒットするので、そういう活用の仕方はさせてもらっている。自分の投稿をそちらにアップしなくなっただけだ。 で、ActivityPubのほうにはそれなりに投稿しているのだが、この投稿はGoogleなどの検索エンジンからはクロールできない。ActivityPubのフロントエンドにSoapboxというものを使っているのだが、これはsingle-page application (SPA)、つまりjavaScriptがその都度ActivityPub APIから情報を取得して画面に表示しているため、検索エンジンのBotがクロールしようと思ってもこの機能が動作しないため投稿の中身がクロールできない。 どうしようもないゴミ発言を拾われないのはいいことではあるが、流石に寂しい。 どうしようもないゴミ発言も自分で責任をもって管理したい。そのために自分のドメインで公開しているのだから、検索エンジンくんが欲しいというなら、まあ、提供してもいい。
..."><link rel=alternate type=application/rss+xml title=" 野村政行の「堪忍袋の緒を締めろ！」" href=https://diary.a3size.com/index.xml><link rel="shortcut icon" href=https://diary.a3size.com/images/favicon.ico><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css><link rel=stylesheet href=https://diary.a3size.com/css/main.min.css media=all><link rel=me href=https://fedibird.com/@king_nomura><link rel=me href=https://social.a3size.com/@king_nomura></head><body><div class=wrapper><header class=header><nav class=nav><a href=https://diary.a3size.com/ class=nav-logo><img src=https://diary.a3size.com/images/title.svg alt=野村政行の「堪忍袋の緒を締めろ！」></a><ul class=nav-links><li><a href=/tags/><i class="fas fa-tags"></i> Tags</a></li><li><a href=/about/><i class="fas fa-info-circle"></i> About</a></li></ul></nav></header><main class=content role=main><article class=article><span class=article-date><i class="fas fa-book"></i> 2025-12-31</span><h1 class=article-title>ActivityPubへの投稿を静的HTMLにも保存しておく</h1><div class=article-content><p>巨大な企業SNSからActivityPubに移住して早3年が過ぎた。完全に移住したわけではなく、世間一般の情報を得るためには巨大な企業SNSの検索機能を使わせてもらっているし、ググればそちらのSNSの投稿はヒットするので、そういう活用の仕方はさせてもらっている。自分の投稿をそちらにアップしなくなっただけだ。
で、ActivityPubのほうにはそれなりに投稿しているのだが、この投稿はGoogleなどの検索エンジンからはクロールできない。ActivityPubのフロントエンドに<a href=https://soapbox.pub>Soapbox</a>というものを使っているのだが、これはsingle-page application (SPA)、つまりjavaScriptがその都度ActivityPub APIから情報を取得して画面に表示しているため、検索エンジンのBotがクロールしようと思ってもこの機能が動作しないため投稿の中身がクロールできない。
どうしようもないゴミ発言を拾われないのはいいことではあるが、流石に寂しい。
どうしようもないゴミ発言も自分で責任をもって管理したい。そのために自分のドメインで公開しているのだから、検索エンジンくんが欲しいというなら、まあ、提供してもいい。</p><p>というかですね。</p><p>検索エンジン様に拾っていただかないと、世間からみて生きているかどうかわからない、ということに気づきました。
ごめんなさい。生きています。ゴミ発言ですが拾ってください。</p><p>そこで、ActivityPubのRSS feedや、outbox を読み取って静的HTMLとして出力するプログラムを開発した。
<a href=https://github.com/king-nomura/feedToHtml>https://github.com/king-nomura/feedToHtml</a>
Node.jsで動くのでローカルでも、サーバでもわりとどこでも動かせるんじゃないかと思う。
このプログラムの開発にはがっつりと<a href=https://claude.ai/code>Claude Code</a>を使った。自分ひとりで作ったものではないのでREADMEにもちゃんと記載した。いや、記載させた。自分で自分のことを書くの恥ずかしかったろ、Claude Code君よ。</p><p>とりあえず出力結果はこちら。 → <a href=https://social.a3size.com/static/2025/2025-12.html>@king_nomuraの投稿</a></p><p>今年はここまで。</p></div><hr><ul class=article-taxonomy><li><i class="fas fa-tags"></i> <a href=/tags/%E4%B8%96%E3%81%AE%E4%B8%AD%E3%81%AE%E8%A9%B1>世の中の話</a></li></ul></article></main><ul class=page-links><li><a href=https://diary.a3size.com/2025/04/25/ aria-label=Previous><span aria-hidden=true><i class="fas fa-angle-left"></i> 前へ</span></a></li><li></li></ul><footer class=footer><ul class=footer-links><li><a href=/index.xml type=application/rss+xml target=_blank><i class="fas fa-rss"></i> RSSフィード</a></li><li><a href=https://social.a3size.com/users/king_nomura target=_blank rel=noopener>ActivityPub</a></li><li><a href=https://github.com/king-nomura target=_blank rel=noopener><i class="fab fa-github"></i> GitHub</a></li><li><a href=https://www.facebook.com/nomura.masayuki target=_blank rel=noopener><i class="fab fa-facebook-f"></i> Facebook</a></li></ul><p><small class=footer-copyright>author: nomura masayuki</small></p></footer></div></body></html>